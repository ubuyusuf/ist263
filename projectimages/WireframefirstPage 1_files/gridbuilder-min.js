function MF_GridBuilder(){var thisClass=this;thisClass.eid=mf_main.editorController.guidGenerator();thisClass.NAME="GridBuilder";thisClass.settingsHolder=null;this.selectedNodeId=null;this.selectedNodeObj=null;thisClass.RENDERDOM=true;this.layoutTemplateCollection=new Array();thisClass.showSetting=true;thisClass.gridtreeview=null;this.constructor=function(){};this.init=function(settingsHolder){thisClass.settingsHolder=settingsHolder;if(thisClass.RENDERDOM){thisClass.render();$("#mfLayoutsCategory").on("change",thisClass.changeLayoutCategoryHandler);}else{thisClass.setupEvents();$("#"+thisClass.eid).show();}$(".mfGridBuilderRenderNode_"+thisClass.settingsHolder.component.eid).css("background-color","");MF_ComponentSettingUtils.rememberToggle(thisClass);};this.remove=function(delSet){$(".mfGridBuilderRenderNode_"+thisClass.settingsHolder.component.eid).css("background-color","");if(delSet){try{if($("#mfGridNodeWidth_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfGridNodeWidth_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if($("#mfGridNodeHeight_"+thisClass.eid).data("kendoNumericTextBox")){$("#mfGridNodeHeight_"+thisClass.eid).data("kendoNumericTextBox").destroy();}if(thisClass.gridtreeview){thisClass.gridtreeview.destroy();}$(".mfLayoutItemCls").off("click");$("#"+thisClass.eid).remove();}catch(e){console.log("error occured in the component ");}}};this.setupEvents=function(){if(thisClass.RENDERDOM){MF_ComponentSettingUtils.setupToggle(thisClass);$("#"+thisClass.eid+"_addHBox").on("click",thisClass.addHBox);$("#"+thisClass.eid+"_addVBox").on("click",thisClass.addVBox);$("#"+thisClass.eid+"_deletenode").on("click",function(){if(thisClass.settingsHolder.component.layoutJSON.gridLayout[0].id==thisClass.selectedNodeObj.id){MF_Utils.display_ActionIndicator("Root node cannot be deleted");return false;}var selectedNodeUid=thisClass.gridtreeview.get_node(thisClass.selectedNodeObj.id).id;thisClass.gridtreeview.delete_node(selectedNodeUid);var pageTreeItemData=thisClass.gridtreeview.get_node(thisClass.settingsHolder.component.layoutJSON.gridLayout[0].id).id;if(pageTreeItemData){thisClass.gridtreeview.deselect_all(true);thisClass.gridtreeview.select_node(pageTreeItemData);}thisClass.settingsHolder.component.layoutJSON.gridLayout=thisClass.deleteNode(thisClass.settingsHolder.component.layoutJSON.gridLayout);thisClass.selectedNodeObj=null;thisClass.setDataAndRender(false);});$("#mfGridNodeWidth_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfGridNodeWidth_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfGridNodeWidth_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:thisClass.changeNodeWidth,decimals:0});$("#mfGridNodeWidth_"+thisClass.eid).focus(function(){$("#mfGridNodeWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",thisClass.changeNodeWidth);$("#mfGridNodeWidth_"+thisClass.eid).data("kendoNumericTextBox").bind("change",thisClass.changeNodeWidth);});$("#mfGridNodeHeight_"+thisClass.eid).focusin(function(){mf_main.editorController.disableShortcuts();});$("#mfGridNodeHeight_"+thisClass.eid).focusout(function(){mf_main.editorController.enableShortcuts();});$("#mfGridNodeHeight_"+thisClass.eid).kendoNumericTextBox({format:"#",spinners:true,spin:thisClass.changeNodeHeight,decimals:0});$("#mfGridNodeHeight_"+thisClass.eid).focus(function(){$("#mfGridNodeHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",thisClass.changeNodeHeight);$("#mfGridNodeHeight_"+thisClass.eid).data("kendoNumericTextBox").bind("change",thisClass.changeNodeHeight);});$(".mfGridNodeWidthUnit_"+thisClass.eid).off("click",thisClass.changeNodeWidthUnit);$(".mfGridNodeWidthUnit_"+thisClass.eid).on("click",thisClass.changeNodeWidthUnit);$(".mfGridNodeHeightUnit_"+thisClass.eid).off("click",thisClass.changeNodeHeight);$(".mfGridNodeHeightUnit_"+thisClass.eid).on("click",thisClass.changeNodeHeightUnit);$("#mfGridNodeBorder_"+thisClass.eid).on("click",thisClass.changeNodeBorder);$("#"+thisClass.eid+"_downloadHTML").on("click",thisClass.downloadHTML);$("#"+thisClass.eid+"_layoutSelector").on("click",thisClass.layoutTemplateSelectionPopup);}if(thisClass.RENDERDOM==true){thisClass.RENDERDOM=false;}thisClass.renderJSTree(true);var newSelectedNodeUid=thisClass.gridtreeview.get_node(thisClass.settingsHolder.component.layoutJSON.gridLayout[0].id).id;thisClass.gridtreeview.deselect_all(true);thisClass.gridtreeview.select_node(newSelectedNodeUid);thisClass.selectedNodeObj=thisClass.settingsHolder.component.layoutJSON.gridLayout[0];thisClass.setDefaultNodeSettings(false);thisClass.resizeGridBuilderPanel();};this.addHBox=function(){if(thisClass.selectedNodeObj!=null&&thisClass.selectedNodeObj.hasOwnProperty("children")){thisClass.reSelectNode();var newBox={id:MF_Utils.guidGenerator(),type:"horizontal",widthValue:"100",widthUnit:"%",heightValue:"100",heightUnit:"%",border:true,children:[]};thisClass.selectedNodeObj.children.push(newBox);var formattedNodeItem={id:newBox.id,text:"HBox",items:[],selected:false,icon:"modules/gridbuilder/images/nodetreeicon-horizontal.png"};var selectedNodeUid=thisClass.gridtreeview.get_node(thisClass.selectedNodeObj.id).id;thisClass.gridtreeview.create_node(selectedNodeUid,formattedNodeItem);thisClass.gridtreeview.open_node(selectedNodeUid);thisClass.setDataAndRender(false);}};this.addVBox=function(){if(thisClass.selectedNodeObj!=null&&thisClass.selectedNodeObj.hasOwnProperty("children")){thisClass.reSelectNode();var newBox={id:MF_Utils.guidGenerator(),type:"vertical",widthValue:"100",widthUnit:"%",heightValue:"100",heightUnit:"%",border:true,children:[]};thisClass.selectedNodeObj.children.push(newBox);var formattedNodeItem={id:newBox.id,text:"VBox",children:[],selected:false,icon:"modules/gridbuilder/images/nodetreeicon-vertical.png"};var selectedNodeUid=thisClass.gridtreeview.get_node(thisClass.selectedNodeObj.id).id;thisClass.gridtreeview.create_node(selectedNodeUid,formattedNodeItem);thisClass.gridtreeview.open_node(selectedNodeUid);thisClass.setDataAndRender(false);}};this.setDataAndRender=function(redrawJSTree,isChange){isChange=typeof(isChange)!="undefined"?isChange:"true";var layoutString=JSON.stringify(thisClass.settingsHolder.component.layoutJSON);thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",layoutString,isChange);if(isChange!="default"){thisClass.settingsHolder.component.render(false);thisClass.renderJSTree(redrawJSTree);}};this.assignDefaults=function(){thisClass.setDataAndRender(true,"default");};this.treeNodeClick=function(e){var currentNode=thisClass.gridtreeview.get_selected(true)[0];thisClass.selectedNodeObj=thisClass.getSelectedNodeRef(thisClass.settingsHolder.component.layoutJSON.gridLayout,currentNode.id);thisClass.setDefaultNodeSettings(true);};this.treeNodeDragEnd=function(e){var treeData=thisClass.gridtreeview.get_json("#",{flat:false});var newLayoutJSON=thisClass.sortLayoutJSON(treeData);thisClass.settingsHolder.component.layoutJSON.gridLayout=newLayoutJSON;thisClass.setDataAndRender(false);};this.sortLayoutJSON=function(JSTreeData){var newLayoutJSON=[];for(var i=0;i<JSTreeData.length;i++){var tempNode=$.extend(true,{},thisClass.getSelectedNodeRef(thisClass.settingsHolder.component.layoutJSON.gridLayout,JSTreeData[i].id));tempNode.children=thisClass.sortLayoutJSON(JSTreeData[i].children);newLayoutJSON.push(tempNode);}return newLayoutJSON;};this.renderJSTree=function(redrawJSTree){if(thisClass.selectedNodeObj==null&&thisClass.settingsHolder.component.layoutJSON.gridLayout.length>0){thisClass.selectedNodeObj=thisClass.settingsHolder.component.layoutJSON.gridLayout[0];thisClass.setDefaultNodeSettings(false);}else{thisClass.selectedNodeObj=thisClass.getSelectedNodeRef(thisClass.settingsHolder.component.layoutJSON.gridLayout,thisClass.selectedNodeObj.id);thisClass.setDefaultNodeSettings(true);}if(redrawJSTree||thisClass.RENDERDOM){if(thisClass.gridtreeview!=null){try{thisClass.gridtreeview.destroy();$("#mfGridBuilderNodeTree_"+thisClass.eid).empty();thisClass.gridtreeview=null;}catch(e){}}var gridTreeData=thisClass.formJSTreeData(thisClass.settingsHolder.component.layoutJSON.gridLayout);$("#mfGridBuilderNodeTree_"+thisClass.eid).jstree({core:{animation:0,themes:{dots:false},check_callback:true,data:gridTreeData,worker:false,},types:{"#":{max_children:1}},plugins:["dnd","types"]});$(document).on("dnd_stop.vakata",function(e,data){var targetNode=thisClass.gridtreeview.get_node(data.event.target,true);if(targetNode.length>0){thisClass.gridtreeview.open_node(targetNode[0].id);}thisClass.treeNodeDragEnd();});thisClass.gridtreeview=$("#mfGridBuilderNodeTree_"+thisClass.eid).jstree(true);thisClass.gridtreeview.open_all();$("#mfGridBuilderNodeTree_"+thisClass.eid).on("click",function(e,data){thisClass.treeNodeClick();});}};this.formJSTreeData=function(nodeObj){var formattedData=new Array();for(var i=0;i<nodeObj.length;i++){var displayBoxtTitle="VBox";if(nodeObj[i].type=="horizontal"){displayBoxtTitle="HBox";}var isSelected=false;if(nodeObj[i].id==thisClass.selectedNodeObj.id){isSelected=true;}var formattedNodeItem={id:nodeObj[i].id,text:displayBoxtTitle,children:thisClass.formJSTreeData(nodeObj[i].children),selected:isSelected,icon:"modules/gridbuilder/images/nodetreeicon-"+nodeObj[i].type+".png"};formattedData.push(formattedNodeItem);}return formattedData;};this.getSelectedNodeRef=function(layoutJSON,nodeId){for(var i=0;i<layoutJSON.length;i++){if(layoutJSON[i].id==nodeId){return layoutJSON[i];}var tempNode=thisClass.getSelectedNodeRef(layoutJSON[i].children,nodeId);if(tempNode){return tempNode;}}return false;};this.deleteNode=function(layoutJSON){for(var i=0;i<layoutJSON.length;i++){if(layoutJSON[i].id==thisClass.selectedNodeObj.id){layoutJSON.splice(i,1);return layoutJSON;}layoutJSON[i].children=thisClass.deleteNode(layoutJSON[i].children);}return layoutJSON;};this.changeNodeWidth=function(){$("#mfGridNodeWidth_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",thisClass.changeNodeWidth);thisClass.reSelectNode();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var w=this.value();if(w<2){return;}thisClass.selectedNodeObj.widthValue=w;thisClass.setDataAndRender(false);};this.changeNodeHeight=function(){$("#mfGridNodeHeight_"+thisClass.eid).data("kendoNumericTextBox").unbind("change",thisClass.changeNodeHeight);thisClass.reSelectNode();if(this.value()==""||this.value()==null){if(this.value()!=0&&this.value()!="0"){return;}}var h=this.value();if(h<2){return;}thisClass.selectedNodeObj.heightValue=h;thisClass.setDataAndRender(false);};this.changeNodeWidthUnit=function(){thisClass.reSelectNode();thisClass.selectedNodeObj.widthUnit=$(this).attr("data-unit");thisClass.setDataAndRender(false);};this.changeNodeHeightUnit=function(){thisClass.reSelectNode();thisClass.selectedNodeObj.heightUnit=$(this).attr("data-unit");thisClass.setDataAndRender(false);};this.changeNodeBorder=function(){thisClass.reSelectNode();thisClass.selectedNodeObj.border=false;if($(this).is(":checked")){thisClass.selectedNodeObj.border=true;}thisClass.setDataAndRender(false);};this.setDefaultNodeSettings=function(doHighlight){if(thisClass.selectedNodeObj.id==thisClass.settingsHolder.component.layoutJSON.gridLayout[0].id){$("#mfGridWidthContainer_"+thisClass.eid).hide();$("#mfGridHeightContainer_"+thisClass.eid).hide();}else{$("#mfGridWidthContainer_"+thisClass.eid).show();$("#mfGridHeightContainer_"+thisClass.eid).show();$("#mfGridNodeWidth_"+thisClass.eid).data("kendoNumericTextBox").value(thisClass.selectedNodeObj.widthValue);$("#mfGridNodeHeight_"+thisClass.eid).data("kendoNumericTextBox").value(thisClass.selectedNodeObj.heightValue);$(".mfGridNodeWidthUnit_"+thisClass.eid).removeClass("active");if(thisClass.selectedNodeObj.widthUnit=="px"){$("#mfGridNodeWidthUnit_pixel_"+thisClass.eid).addClass("active");}else{$("#mfGridNodeWidthUnit_percentage_"+thisClass.eid).addClass("active");}$(".mfGridNodeHeightUnit_"+thisClass.eid).removeClass("active");if(thisClass.selectedNodeObj.heightUnit=="px"){$("#mfGridNodeHeightUnit_pixel_"+thisClass.eid).addClass("active");}else{$("#mfGridNodeHeightUnit_percentage_"+thisClass.eid).addClass("active");}}$("#mfGridNodeBorder_"+thisClass.eid).prop("checked",thisClass.selectedNodeObj.border);if(doHighlight){$(".mfGridBuilderRenderNode_"+thisClass.settingsHolder.component.eid).css("background-color","");$(".mfGridBuilderRenderNode_"+thisClass.settingsHolder.component.eid+"[data-nodeid="+thisClass.selectedNodeObj.id+"]").css("background-color","#9CDDFB");}};this.downloadHTML=function(){var htmlSnippet="<!DOCTYPE html><head></head><body>";htmlSnippet+='<div style="width:'+(thisClass.settingsHolder.component.esize.width+200).toString()+"px; height:"+(thisClass.settingsHolder.component.esize.height+100).toString()+'px;"><div style=" padding: 0px; background: #FFFFFF; width:'+(thisClass.settingsHolder.component.esize.width).toString()+"px; height:"+(thisClass.settingsHolder.component.esize.height).toString()+'px; margin: 100px; " > ';htmlSnippet+=thisClass.settingsHolder.component.getLayoutCode(thisClass.settingsHolder.component.layoutJSON.gridLayout);htmlSnippet+="</div></div>";htmlSnippet+="</body></html>";var filename="wireframepro-gridbuilder-"+thisClass.settingsHolder.component.eid+".html";var blob=new Blob([htmlSnippet],{type:"text/csv"});if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveBlob(blob,filename);}else{var element=window.document.createElement("a");element.href=window.URL.createObjectURL(blob);element.download=filename;document.body.appendChild(element);element.click();document.body.removeChild(element);}};this.layoutTemplateSelectionPopup=function(e){$("#mfLayoutSelectionLoader").show();mf_main.editorController.showPopUp(e,$("#mfLayoutSelectionPopUp"));$("#mfLayoutListing").scrollTop(0);if(thisClass.layoutTemplateCollection.length==0){$.getJSON("modules/gridbuilder/js/internal/layoutTemplates.json",function(data){thisClass.layoutTemplateCollection=data;thisClass.openLayoutTemplateDialog();});}else{thisClass.openLayoutTemplateDialog();}};this.openLayoutTemplateDialog=function(e){var cachedTemplate=mf_main.getTemplateFromCache("mfGridLayoutTemplate");if(cachedTemplate==null){$.get("templates/editor/LayoutItem.htm",function(templates){var template=Handlebars.compile($(templates).filter("#mfGridLayoutTemplate").html());mf_main.addTemplateToCache("mfGridLayoutTemplate",template);thisClass.renderLayoutItems(template);});}else{thisClass.renderLayoutItems(cachedTemplate);}};this.renderLayoutItems=function(template){var i=0;$(".mfLayoutsList").empty();var htmldom="";var len=thisClass.layoutTemplateCollection.length;for(i=0;i<=len-1;i++){htmldom=template(thisClass.layoutTemplateCollection[i]);$("#mfLayouts_"+thisClass.layoutTemplateCollection[i].category+" .mfLayoutsList").append(htmldom);}$("#mfLayoutSelectionLoader").hide();$("#mfLayoutListing").show();$(".mfLayoutItemCls").off("click");$(".mfLayoutItemCls").on("click",thisClass.applyLayoutTemplate);};this.applyLayoutTemplate=function(){var i=0;var selectedTemplate=$(this).attr("data-id");for(i=0;i<thisClass.layoutTemplateCollection.length;i++){if(thisClass.layoutTemplateCollection[i].id==selectedTemplate){thisClass.settingsHolder.component.width=thisClass.layoutTemplateCollection[i].width;thisClass.settingsHolder.component.height=thisClass.layoutTemplateCollection[i].height;thisClass.settingsHolder.component.layoutJSON=thisClass.layoutTemplateCollection[i].layoutJSON;var sizeUI=new Object();sizeUI.height=thisClass.layoutTemplateCollection[i].height;sizeUI.width=thisClass.layoutTemplateCollection[i].width;var layoutString=JSON.stringify(thisClass.settingsHolder.component.layoutJSON);var undoarr=new Array();var undo=new MF_UndoDAO();undo.propSingleUndo(thisClass.settingsHolder.component,"gridLayout",thisClass.settingsHolder.component.e2xml.settings.properties.gridLayout);undoarr.push(undo);undo=new MF_UndoDAO();undo.propObjectUndo(thisClass.settingsHolder.component,"esize",thisClass.settingsHolder.component.e2xml.settings.properties.esize);undoarr.push(undo);var undoObj=new MF_UndoDAO();var meta=new MF_MetaUndo(undoarr);undoObj.metaUndo(meta);MF_ChangeManager.addUndo(undoObj);MF_ChangeManager.CHANGED(true);thisClass.settingsHolder.component.e2xml.addPropSingle("gridLayout",layoutString,"default");thisClass.settingsHolder.component.e2xml.addPropObject("esize",sizeUI,"default");thisClass.settingsHolder.component.render(false);mf_main.editorController.addSelectorResize(thisClass.settingsHolder.component.selector);thisClass.selectedNodeObj=thisClass.settingsHolder.component.layoutJSON.gridLayout[0];thisClass.renderJSTree(true);break;}}$(".mfPopUp").hide();};this.changeLayoutCategoryHandler=function(){var category=$(this).val();$(".mfLayoutCategory").hide();if(category=="all"){$(".mfLayoutCategory, .mfLayoutCategory h4").show();}else{$(".mfLayoutCategory, .mfLayoutCategory h4").hide();$("#"+category).show();}};this.resizeGridBuilderPanel=function(){if($("#mfGridBuilderNodeTree_"+thisClass.eid).length>0){var gridBuilderTreeMaxHeight=$("#mfContentSettings").height()-600;if(gridBuilderTreeMaxHeight<100){gridBuilderTreeMaxHeight=100;}$("#mfGridBuilderNodeTree_"+thisClass.eid).css("max-height",gridBuilderTreeMaxHeight);}};this.reSelectNode=function(){thisClass.selectedNodeObj=thisClass.getSelectedNodeRef(thisClass.settingsHolder.component.layoutJSON.gridLayout,thisClass.selectedNodeObj.id);};this.render=function(redraw){if(redraw==null){redraw=true;}var htmlCode="";if(redraw){$("#"+thisClass.eid).remove();htmlCode=multiline(function(){
/*!
				
				<div id="{{eid}}_settingToggle"  class="mfImgLink mfSettingsToggleBtn" style=" " >
					
						<div style="float: left; width: 185px; padding-left: 5px;">Grid Layout</div>
						
						<div style="float: left; width: 50px; text-align: right;">
							<span id="{{eid}}_settingToggleHide"  style="display: none; font-size: 20px;" class="ico-angle-right"></span>
							<span id="{{eid}}_settingToggleShow"  style="font-size: 20px;" class="ico-angle-down"></span>
						</div>
				</div>
							
				<div id="{{eid}}_partSetting" style="overflow: hidden; position: relative; width:100%;padding: 20px 20px 0 20px;" >		

					<div id="{{eid}}_addHBox" class="mfAddBoxBtn mfSidebarBlueButton">Add HBox</div>
					<div id="{{eid}}_addVBox" class="mfAddBoxBtn mfSidebarShadowButton">Add VBox</div>
					<div id="{{eid}}_deletenode" class="mfDeleteBoxIcon" data-toggle="tooltip" data-placement="bottom" title="Delete Selected" ><i class="ico-trash2"></i></div>
					<br/>
					<div id="mfGridBuilderNodeTree_{{eid}}" class="mfGridBuilderNodeTree"></div>
					
					<div class="mfGridBoxSettingsWrapper">
						<div class="mfGridBoxSettingsContent" id="mfGridWidthContainer_{{eid}}">
							<label class="mfGridNodeLabel">Width</label>
							<input style="width: 70px;"  id="mfGridNodeWidth_{{eid}}" type="number" value="0" min="1" max="10000000" step="1" />
							
							<ul class="mfGridNodeWidthUnitContainer_{{eid}}" class="mfGridNodeSizeToggle">
								<li class="mfGridNodeWidthUnit_{{eid}}" id="mfGridNodeWidthUnit_percentage_{{eid}}" data-unit="%">%</li>
								<li class="mfGridNodeWidthUnit_{{eid}}" id="mfGridNodeWidthUnit_pixel_{{eid}}" data-unit="px">px</li>
							</ul>
						</div>
						<div class="mfGridBoxSettingsContent" id="mfGridHeightContainer_{{eid}}">
							<label class="mfGridNodeLabel">Height</label>
							<input style="width: 70px;"  id="mfGridNodeHeight_{{eid}}" type="number" value="0" min="1" max="10000000" step="1" />
							
							<ul class="mfGridNodeHeightUnitContainer_{{eid}}">
								<li class="mfGridNodeHeightUnit_{{eid}}" id="mfGridNodeHeightUnit_percentage_{{eid}}" data-unit="%">%</li>
								<li class="mfGridNodeHeightUnit_{{eid}}" id="mfGridNodeHeightUnit_pixel_{{eid}}" data-unit="px">px</li>
							</ul>
						
						</div>
						
						<div class="mfGridBoxSettingsContent">
							<label class="mfGridNodeLabel">Border</label>
							<div class="checkbox" style="left: 30px;">
								<input type="checkbox" checked=true id="mfGridNodeBorder_{{eid}}" class="tgl tgl-ios" value="">
								<label class='tgl-btn' for='mfGridNodeBorder_{{eid}}'></label>
							</div>
						</div>
						
						<div id="{{eid}}_layoutSelector" class="mfGridLayoutSelector mfImgLink btn mfSidebarBlueButton" style="width: 100%;cursor: pointer;font-size: 13px;line-height: 28px;margin-bottom: 10px;margin-top: 5px;">Change Grid Template</div>
						
						<div id="{{eid}}_downloadHTML" class="mfGridBoxSettingsDownload">Download as HTML</div>
						
						
					</div>
					
				
				</div>
				
				*/
console.log;});var compiled_template=Handlebars.compile(htmlCode);var context={eid:thisClass.eid};var compiled_code=compiled_template(context);$("#"+thisClass.settingsHolder.eid+"_gridbuilder").empty();$("#"+thisClass.settingsHolder.eid+"_gridbuilder").append(compiled_code);thisClass.setupEvents();$("#"+thisClass.eid).show();thisClass.resizeGridBuilderPanel();}else{$("#"+thisClass.eid).css("left",thisClass.x);$("#"+thisClass.eid).css("top",thisClass.y);}};}